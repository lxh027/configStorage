import{C as e,B as a,r as l,o as t,e as d,f as s,g as n,w as r,i as o,t as i,L as u,D as c,p,j as m}from"./vendor.da3fc754.js";import{s as b}from"./request.a57216d8.js";import{_ as f}from"./index.939ea1aa.js";const g={name:"basetable",setup(){const l=e({address:"",name:"",pageIndex:1,pageSize:10}),t=a([]),d=a(0),s=()=>{(e=>b({url:"./table.json",method:"get",params:e}))(l).then((e=>{t.value=e.list,d.value=e.pageTotal||50}))};s();const n=a(!1);let r=e({name:"",address:""}),o=-1;return{query:l,tableData:t,pageTotal:d,editVisible:n,form:r,handleSearch:()=>{l.pageIndex=1,s()},handlePageChange:e=>{l.pageIndex=e,s()},handleDelete:e=>{u.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{c.success("删除成功"),t.value.splice(e,1)})).catch((()=>{}))},handleEdit:(e,a)=>{o=e,Object.keys(r).forEach((e=>{r[e]=a[e]})),n.value=!0},saveEdit:()=>{n.value=!1,c.success(`修改第 ${o+1} 行成功`),Object.keys(r).forEach((e=>{t.value[o][e]=r[e]}))}}}},h={class:"crumbs"},v=(e=>(p("data-v-5505848c"),e=e(),m(),e))((()=>s("i",{class:"el-icon-lx-cascades"},null,-1))),y=o(" 基础表格 "),_={class:"container"},V={class:"handle-box"},w=o("搜索"),C=o("编辑 "),k=o("删除"),x={class:"pagination"},q={class:"dialog-footer"},j=o("取 消"),D=o("确 定");var E=f(g,[["render",function(e,a,u,c,p,m){const b=l("el-breadcrumb-item"),f=l("el-breadcrumb"),g=l("el-option"),E=l("el-select"),I=l("el-input"),U=l("el-button"),z=l("el-table-column"),S=l("el-image"),T=l("el-tag"),$=l("el-table"),O=l("el-pagination"),P=l("el-form-item"),B=l("el-form"),L=l("el-dialog");return t(),d("div",null,[s("div",h,[n(f,{separator:"/"},{default:r((()=>[n(b,null,{default:r((()=>[v,y])),_:1})])),_:1})]),s("div",_,[s("div",V,[n(E,{modelValue:c.query.address,"onUpdate:modelValue":a[0]||(a[0]=e=>c.query.address=e),placeholder:"地址",class:"handle-select mr10"},{default:r((()=>[n(g,{key:"1",label:"广东省",value:"广东省"}),n(g,{key:"2",label:"湖南省",value:"湖南省"})])),_:1},8,["modelValue"]),n(I,{modelValue:c.query.name,"onUpdate:modelValue":a[1]||(a[1]=e=>c.query.name=e),placeholder:"用户名",class:"handle-input mr10"},null,8,["modelValue"]),n(U,{type:"primary",icon:"el-icon-search",onClick:c.handleSearch},{default:r((()=>[w])),_:1},8,["onClick"])]),n($,{data:c.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:r((()=>[n(z,{prop:"id",label:"ID",width:"55",align:"center"}),n(z,{prop:"name",label:"用户名"}),n(z,{label:"账户余额"},{default:r((e=>[o("￥"+i(e.row.money),1)])),_:1}),n(z,{label:"头像(查看大图)",align:"center"},{default:r((e=>[n(S,{class:"table-td-thumb",src:e.row.thumb,"preview-src-list":[e.row.thumb]},null,8,["src","preview-src-list"])])),_:1}),n(z,{prop:"address",label:"地址"}),n(z,{label:"状态",align:"center"},{default:r((e=>[n(T,{type:"成功"===e.row.state?"success":"失败"===e.row.state?"danger":""},{default:r((()=>[o(i(e.row.state),1)])),_:2},1032,["type"])])),_:1}),n(z,{prop:"date",label:"注册时间"}),n(z,{label:"操作",width:"180",align:"center"},{default:r((e=>[n(U,{type:"text",icon:"el-icon-edit",onClick:a=>c.handleEdit(e.$index,e.row)},{default:r((()=>[C])),_:2},1032,["onClick"]),n(U,{type:"text",icon:"el-icon-delete",class:"red",onClick:a=>c.handleDelete(e.$index,e.row)},{default:r((()=>[k])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),s("div",x,[n(O,{background:"",layout:"total, prev, pager, next","current-page":c.query.pageIndex,"page-size":c.query.pageSize,total:c.pageTotal,onCurrentChange:c.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),n(L,{title:"编辑",modelValue:c.editVisible,"onUpdate:modelValue":a[5]||(a[5]=e=>c.editVisible=e),width:"30%"},{footer:r((()=>[s("span",q,[n(U,{onClick:a[4]||(a[4]=e=>c.editVisible=!1)},{default:r((()=>[j])),_:1}),n(U,{type:"primary",onClick:c.saveEdit},{default:r((()=>[D])),_:1},8,["onClick"])])])),default:r((()=>[n(B,{"label-width":"70px"},{default:r((()=>[n(P,{label:"用户名"},{default:r((()=>[n(I,{modelValue:c.form.name,"onUpdate:modelValue":a[2]||(a[2]=e=>c.form.name=e)},null,8,["modelValue"])])),_:1}),n(P,{label:"地址"},{default:r((()=>[n(I,{modelValue:c.form.address,"onUpdate:modelValue":a[3]||(a[3]=e=>c.form.address=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-5505848c"]]);export{E as default};
