import{r as e,o as t,c as s,a,p as o,b as n,u as l,d as i,e as r,f as c,g as d,h as u,t as m,w as p,i as h,F as g,j as _,k as f,l as b,m as v,T as x,K as L,n as T,q as k,s as y,v as w,x as C,_ as E,y as I,R as P,z as j}from"./vendor.971a53c8.js";const A={};let O;A.render=function(a,o,n,l,i,r){const c=e("router-view");return t(),s(c)};const R={},D=function(e,t){if(!t)return e();if(void 0===O){const e=document.createElement("link").relList;O=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in R)return;R[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":O,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))},V=a.create({timeout:5e3});V.interceptors.request.use((e=>e),(e=>(console.log(e),Promise.reject()))),V.interceptors.response.use((e=>{if(200===e.status)return e.data;Promise.reject()}),(e=>(console.log(e),Promise.reject())));const S=e=>V({url:"/user/getUsers",method:"post",data:e}),$=e=>V({url:"/user/setAdmin",method:"post",data:e}),q=e=>V({url:"/user/login",method:"post",data:e});const z={setup(){const e=localStorage.getItem("ms_username"),t=l(),s=i((()=>t.state.collapse)),a=()=>{t.commit("handleCollapse",!s.value)};r((()=>{document.body.clientWidth<1500&&a()}));const o=c();return{username:e,message:2,collapse:s,collapseChage:a,handleCommand:e=>{"loginout"==e?(V({url:"/user/logout",method:"post",data:{}}),localStorage.removeItem("ms_username"),o.push("/login")):"user"==e&&o.push("/user")}}}},H=p();o("data-v-d403b52e");const N={class:"header"},U={key:0,class:"el-icon-s-fold"},W={key:1,class:"el-icon-s-unfold"},F=d("div",{class:"logo"},"配置管理系统",-1),K={class:"header-right"},M={class:"header-user-con"},B={class:"el-dropdown-link"},G=d("i",{class:"el-icon-caret-bottom"},null,-1),J=u("退出登录");n();const Q=H(((a,o,n,l,i,r)=>{const c=e("el-dropdown-item"),p=e("el-dropdown-menu"),h=e("el-dropdown");return t(),s("div",N,[d("div",{class:"collapse-btn",onClick:o[1]||(o[1]=(...e)=>l.collapseChage&&l.collapseChage(...e))},[l.collapse?(t(),s("i",W)):(t(),s("i",U))]),F,d("div",K,[d("div",M,[d(h,{class:"user-name",trigger:"click",onCommand:l.handleCommand},{dropdown:H((()=>[d(p,null,{default:H((()=>[d(c,{divided:"",command:"loginout"},{default:H((()=>[J])),_:1})])),_:1})])),default:H((()=>[d("span",B,[u(m(l.username)+" ",1),G])])),_:1},8,["onCommand"])])])])}));z.render=Q,z.__scopeId="data-v-d403b52e";const X={setup(){const e=h(),t=i((()=>e.path)),s=l();return{items:[{icon:"el-icon-lx-home",index:"/dashboard",title:"集群列表"},{icon:"el-icon-user",index:"/users",title:"用户管理"},{icon:"el-icon-lx-global",index:"/namespace",title:"命名空间"}],onRoutes:t,collapse:i((()=>s.state.collapse))}}},Y=p();o("data-v-6748b6ab");const Z={class:"sidebar"};n();const ee=Y(((a,o,n,l,i,r)=>{const c=e("el-menu-item"),p=e("el-submenu"),h=e("el-menu");return t(),s("div",Z,[d(h,{class:"sidebar-el-menu","default-active":l.onRoutes,collapse:l.collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""},{default:Y((()=>[(t(!0),s(g,null,_(l.items,(e=>(t(),s(g,null,[e.subs?(t(),s(p,{index:e.index,key:e.index},{title:Y((()=>[d("i",{class:e.icon},null,2),d("span",null,m(e.title),1)])),default:Y((()=>[(t(!0),s(g,null,_(e.subs,(e=>(t(),s(g,null,[e.subs?(t(),s(p,{index:e.index,key:e.index},{title:Y((()=>[u(m(e.title),1)])),default:Y((()=>[(t(!0),s(g,null,_(e.subs,((e,a)=>(t(),s(c,{key:a,index:e.index},{default:Y((()=>[u(m(e.title),1)])),_:2},1032,["index"])))),128))])),_:2},1032,["index"])):(t(),s(c,{index:e.index,key:e.index},{default:Y((()=>[u(m(e.title),1)])),_:2},1032,["index"]))],64)))),256))])),_:2},1032,["index"])):(t(),s(c,{index:e.index,key:e.index},{title:Y((()=>[u(m(e.title),1)])),default:Y((()=>[d("i",{class:e.icon},null,2)])),_:2},1032,["index"]))],64)))),256))])),_:1},8,["default-active","collapse"])])}));X.render=ee,X.__scopeId="data-v-6748b6ab";const te={setup(){const e=h(),t=c(),s=l(),a=i((()=>s.state.tagsList)),o=i((()=>a.value.length>0)),n=e=>{a.value.some((t=>t.path===e.fullPath))||(a.value.length>=8&&s.commit("delTagsItem",{index:0}),s.commit("setTagsItem",{name:e.name,title:e.meta.title,path:e.fullPath}))};n(e),f((e=>{n(e)}));return{isActive:t=>t===e.fullPath,tagsList:a,showTags:o,closeTags:o=>{const n=a.value[o];s.commit("delTagsItem",{index:o});const l=a.value[o]?a.value[o]:a.value[o-1];l?n.path===e.fullPath&&t.push(l.path):t.push("/")},handleTags:o=>{"other"===o?(()=>{const t=a.value.filter((t=>t.path===e.fullPath));s.commit("closeTagsOther",t)})():(s.commit("clearTags"),t.push("/"))}}}},se={key:0,class:"tags"},ae=d("i",{class:"el-icon-close"},null,-1),oe={class:"tags-close-box"},ne=u(" 标签选项 "),le=d("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),ie=u("关闭其他"),re=u("关闭所有");te.render=function(a,o,n,l,i,r){const c=e("router-link"),p=e("el-button"),h=e("el-dropdown-item"),f=e("el-dropdown-menu"),x=e("el-dropdown");return l.showTags?(t(),s("div",se,[d("ul",null,[(t(!0),s(g,null,_(l.tagsList,((e,a)=>(t(),s("li",{class:["tags-li",{active:l.isActive(e.path)}],key:a},[d(c,{to:e.path,class:"tags-li-title"},{default:b((()=>[u(m(e.title),1)])),_:2},1032,["to"]),d("span",{class:"tags-li-icon",onClick:e=>l.closeTags(a)},[ae],8,["onClick"])],2)))),128))]),d("div",oe,[d(x,{onCommand:l.handleTags},{dropdown:b((()=>[d(f,{size:"small"},{default:b((()=>[d(h,{command:"other"},{default:b((()=>[ie])),_:1}),d(h,{command:"all"},{default:b((()=>[re])),_:1})])),_:1})])),default:b((()=>[d(p,{size:"mini",type:"primary"},{default:b((()=>[ne,le])),_:1})])),_:1},8,["onCommand"])])])):v("",!0)};const ce={components:{vHeader:z,vSidebar:X,vTags:te},setup(){const e=l();return{tagsList:i((()=>e.state.tagsList.map((e=>e.name)))),collapse:i((()=>e.state.collapse))}}},de={class:"about"},ue={class:"content"};ce.render=function(a,o,n,l,i,r){const c=e("v-header"),u=e("v-sidebar"),m=e("v-tags"),p=e("router-view");return t(),s("div",de,[d(c),d(u),d("div",{class:["content-box",{"content-collapse":l.collapse}]},[d(m),d("div",ue,[d(p,null,{default:b((({Component:e})=>[d(x,{name:"move",mode:"out-in"},{default:b((()=>[(t(),s(L,{include:l.tagsList},[(t(),s(T(e)))],1032,["include"]))])),_:2},1024)])),_:1})])],2)])};const me=[{path:"/",redirect:"/dashboard"},{path:"/",name:"Home",component:ce,children:[{path:"/config",name:"config",meta:{title:"配置信息"},component:()=>D((()=>import("./Configs.3efc4711.js")),["./assets/Configs.3efc4711.js","./assets/Configs.b4fcfe93.css","./assets/vendor.971a53c8.js"])},{path:"/monitor",name:"monitor",meta:{title:"集群监控"},component:()=>D((()=>import("./Monitor.5c6784f0.js")),["./assets/Monitor.5c6784f0.js","./assets/Monitor.cf201da2.css","./assets/vendor.971a53c8.js"])},{path:"/users",name:"users",meta:{title:"用户管理",permission:!0},component:()=>D((()=>import("./Users.5be400ce.js")),["./assets/Users.5be400ce.js","./assets/Users.5df8dfdb.css","./assets/cluster.0aebc448.js","./assets/vendor.971a53c8.js"])},{path:"/dashboard",name:"dashboard",meta:{title:"系统首页"},component:()=>D((()=>import("./Dashboard.290da368.js")),["./assets/Dashboard.290da368.js","./assets/Dashboard.cf0e423e.css","./assets/cluster.0aebc448.js","./assets/vendor.971a53c8.js"])},{path:"/namespace",name:"namespace",meta:{title:"命名空间"},component:()=>D((()=>import("./Namespace.9abc3bcc.js")),["./assets/Namespace.9abc3bcc.js","./assets/Namespace.76e0b703.css","./assets/cluster.0aebc448.js","./assets/vendor.971a53c8.js"])},{path:"/404",name:"404",meta:{title:"找不到页面"},component:()=>D((()=>import("./404.3c8177b8.js")),["./assets/404.3c8177b8.js","./assets/404.56a902ba.css","./assets/vendor.971a53c8.js"])},{path:"/403",name:"403",meta:{title:"没有权限"},component:()=>D((()=>import("./403.dd6d4eb2.js")),["./assets/403.dd6d4eb2.js","./assets/403.5687ad1c.css","./assets/vendor.971a53c8.js"])}]},{path:"/login",name:"Login",meta:{title:"登录"},component:()=>D((()=>import("./Login.6e780ff3.js")),["./assets/Login.6e780ff3.js","./assets/Login.0a44745e.css","./assets/vendor.971a53c8.js"])}],pe=k({history:y(),routes:me});pe.beforeEach(((e,t,s)=>{document.title=`${e.meta.title} | configStorage`;const a=localStorage.getItem("is_admin");a||"/login"===e.path?e.meta.permission?"1"===a?s():s("/403"):s():s("/login")}));var he=w({state:{tagsList:[],collapse:!1},mutations:{delTagsItem(e,t){e.tagsList.splice(t.index,1)},setTagsItem(e,t){e.tagsList.push(t)},clearTags(e){e.tagsList=[]},closeTagsOther(e,t){e.tagsList=t},closeCurrentTag(e,t){for(let s=0,a=e.tagsList.length;s<a;s++){if(e.tagsList[s].path===t.$route.fullPath){s<a-1?t.$router.push(e.tagsList[s+1].path):s>0?t.$router.push(e.tagsList[s-1].path):t.$router.push("/"),e.tagsList.splice(s,1);break}}},handleCollapse(e,t){e.collapse=t}},actions:{},modules:{}});const ge=C({locale:E.name,fallbackLocale:I.name,messages:{"zh-cn":{i18n:{breadcrumb:"国际化产品",tips:"通过切换语言按钮，来改变当前内容的语言。",btn:"切换英文",title1:"常用用法",p1:"要是你把你的秘密告诉了风，那就别怪风把它带给树。",p2:"没有什么比信念更能支撑我们度过艰难的时光了。",p3:"只要能把自己的事做好，并让自己快乐，你就领先于大多数人了。"}},en:{i18n:{breadcrumb:"International Products",tips:"Click on the button to change the current language. ",btn:"Switch Chinese",title1:"Common usage",p1:"If you reveal your secrets to the wind you should not blame the wind for  revealing them to the trees.",p2:"Nothing can help us endure dark times better than our faith. ",p3:"If you can do what you do best and be happy, you're further along in life  than most people."}}}});const _e=j(A);var fe;(fe=_e).use(P,{locale:E}),fe.use(ge),_e.use(he).use(pe).mount("#app");export{$ as a,S as g,pe as r,V as s,q as u};
